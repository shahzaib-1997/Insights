<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta tags  -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />

    <title>Accountant-Pro - Sales</title>
    <link rel="icon" type="image/png" href="images/favicon.png" />

    <!-- CSS Assets -->
    <link rel="stylesheet" href="../static/css/app.css" />
        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
          href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
          rel="stylesheet"
        />


    <!-- Javascript Assets -->
    <script src="../static/js/app1.js" defer> </script>


    <script>
      /**
       * THIS SCRIPT REQUIRED FOR PREVENT FLICKERING IN SOME BROWSERS
       */
      localStorage.getItem("_x_darkMode_on") === "true" &&
        document.documentElement.classList.add("dark");

        function updateRate(selectElement) {
      const rateInput = selectElement.parentElement.nextElementSibling.nextElementSibling.nextElementSibling;
      const selectedOption = selectElement.options[selectElement.selectedIndex];
      rateInput.value = selectedOption.value;
  }

  
      document.addEventListener("DOMContentLoaded", function () {
        const addLineButton = document.getElementById("addLineButton");
        const deleteLinesButton = document.getElementById("deleteLinesButton"); // Get the Delete Lines button
        const tableBody = document.querySelector("table tbody");
        const originalRow = tableBody.querySelector("tr");
    
        // Function to delete lines
        function deleteLines() {
          const rows = tableBody.querySelectorAll("tr");
          if (rows.length > 1) { // Ensure there is at least one row before attempting to delete
            tableBody.removeChild(rows[rows.length - 1]); // Remove the last row
          }
        }
    
        addLineButton.addEventListener("click", function () {
          const newRow = originalRow.cloneNode(true);
    
          // Clear the values in the new row's input fields
          const inputFields = newRow.querySelectorAll('input');
          inputFields.forEach(function (input) {
            input.value = '';
          });
    
          // Append the new row to the table body
          tableBody.appendChild(newRow);
        });
    
        // Add a click event listener to the Delete Lines button
        deleteLinesButton.addEventListener("click", deleteLines);
      });
    

        
    </script>
  </head>

  <body x-data class="is-header-blur" x-bind="$store.global.documentBody">
    <!-- App preloader-->
    <div>
     


          

          </div>
          <h3
            class="mt-3 text-xl font-semibold text-slate-600 dark:text-navy-100"
          >
            Invoice No.1003
          </h3>
          <div class="is-scrollbar-hidden min-w-full overflow-x-auto">

          <div class="col-span-12 sm:col-span-8">
            <div class="card p-4 sm:p-5">
              <p
                class="text-base font-medium text-slate-700 dark:text-navy-100"
              >
          
              </p>
              <form method="post">
                {% csrf_token %}
                <div class="mt-4 space-y-4">
                  <label class="block">
                    <span>Customer</span>
                    <select
                        class="form-select peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                      >
                        {%for client in clients%}
                        <option value="{{client.id}}">{{client.name}}</option>
                        {%endfor%}

                    </select>
                            
                    </label>
                    <label class="block">
                      <span>Terms</span>
                      <span class="relative mt-1.5 flex">
                        <select
                          name="terms"
                          class="form-select peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                        >
                          <option value="Net 30">Net 30</option>
                          <option value="Net 60">Net 60</option>
                          <option value="Net 90">Net 90</option>
                          <!-- Add more options as needed -->
                        </select>
                      </span>
                    </label>
                  </div>
                  <div class="grid grid-cols-1 gap-4 sm:grid-cols-12">
                    <label class="block sm:col-span-8">
                      <span>Tags</span>
                      <div class="relative mt-1.5 flex">
                        <input
                          name="tags"
                          class="form-input peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                          placeholder="Start typing to add a tag"
                          type="text"
                        />
                        <span
                          class="pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:text-navy-300 dark:peer-focus:text-accent"
                        >
                          <i class="fa-regular fa-envelope text-base"></i>
                        </span>
                      </div>
                    </label>
                
                    <label class="block sm:col-span-4">
                      <span>Invoice Date</span>
                      <div class="relative mt-1.5 flex">
                        <input
                          name="invoice_date"
                          class="form-input peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                          placeholder="Exchange Rate"
                          type="date"
                        />
                        <span
                          class="pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:text-navy-300 dark:peer-focus:text-accent"
                        >
                          <i class="fa-solid fa-map-pin text-base"></i>
                        </span>
                      </div>
                    </label>
                    <label class="block sm:col-span-4">
                      <span>Due Date</span>
                      <div class="relative mt-1.5 flex">
                        <input
                          name="due_date"
                          class="form-input peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover-border-navy-400 dark:focus-border-accent"
                          placeholder="Exchange Rate"
                          type="date"
                        />z 
                        <span
                          class="pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:text-navy-300 dark:peer-focus:text-accent"
                        >
                          <i class="fa-solid fa-map-pin text-base"></i>
                        </span>
                      </div>
                    </label>
                  </div>
                  <label class="block">
                    <span>Billing Address</span>
                    <textarea
                      name="billing_address"
                      rows="4"
                      placeholder=""
                      class="form-textarea mt-1.5 w-full rounded-lg border border-slate-300 bg-transparent p-2.5 placeholder:text-slate-400/70 hover:border-slate-400 focus-border-primary dark-border-navy-450 dark-hover-border-navy-400 dark-focus-border-accent"
                    ></textarea>
                  </label>
                  <table class="min-w-full">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>Service Date</th>
                        <th>Product/Service</th>
                        <th>Description</th>
                        <th>QTY</th>
                        <th>Rate</th>
                        <th>Amount</th>
                        <th>Tax</th>
                      </tr>
                    </thead>
                    <tbody>
                      
                      <tr>
                        <td>1</td>
                        <td><input class="form-input w-full" name="service_date" type="date" onchange="updateRate(this)"/></td>
                        <td>
                          
                          
                          <select class="form-select w-full" name="product_servicet" onchange="updateRate(this)">
                            {% for product in items %}
                            <option>{{ product.product_service }}</option>
                            {% endfor %}
                          </select>
                          
                        </td>
                        <td><input class="form-input w-full" name="description" type="text" placeholder="Description" /></td>
                        <td>
                          <input class="form-input w-full" name="quantity" type="number" placeholder="QTY" >
                        </td>
                        <td>
                          <input class="form-input w-full" name="rate" type="number" placeholder="Rate" />

                        </td>
                        <td>
                          <input class="form-input w-full" name="amount" type="number" placeholder="Amount" >
                        </td>
                        <td><input class="form-input w-full" name="tax" type="number" /></td>
                      </tr>
                      
                      
                        
                    </tbody>
                    
                  </table>
                  <div x-data="{sameBillingAddress:true}">
                    <div
                      class="flex-wrap items-start space-y-2 pt-2 sm:flex sm:space-y-0 sm:space-x-5"
                    ></div>
                
                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2" style="text-align: right; margin-top: 50px; margin-left: 900px;">
                      <div class="self-end">
                        <span class="text-sm font-bold" style="display: inline-block;">Subtotal</span>
                        <br> <!-- Add a line break to separate the lines -->
                        <span class="text-sm font-bold" style="display: inline-block;">Total  </span>
                        <br> <!-- Add a line break to separate the lines -->
                        <span class="text-sm font-bold" style="display: inline-block;">Balance Due </span>
                      </div>
                    </div>

                    <div style="display: inline-block;">
                      <button type="button" id="addLineButton" class="btn h-9 w-32 space-x-2 bg-primary text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90">  
                        Add Line
                      </button>
                      <button type="button" id="deleteLinesButton" class="btn h-9 w-32 space-x-2 bg-primary text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90" onclick="clearLines"> 
                        Delete Lines
                      </button>
                      <button type="button" id="subtotalButton" class="btn h-9 w-32 space-x-2 bg-primary text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90">
                        Subtotal
                      </button>
                    </div>
                    <br>

                    
                      <p><label for="w3review">Message on invoice</label></p>
                      <textarea id="text_on_invoice" name="message_on_invice" rows="4" cols="50" placeholder="Enter your message..."></textarea>
                      <br>
                      
                    
                      <p><label for="w3review">Message on statement</label></p>
                      <textarea id="text_on_message" name="message_on_statement" rows="4" cols="50" placeholder="Enter your message..."></textarea>
                      <br>
                      
                      
                      
                    <button
                      type="submit" 
                      
                      class="btn h-9 w-full space-x-2 bg-primary text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90"
                    >
                      save
                    </button>
                </div>
              </form>

              
              </div>
              </div>
            </div>
          </div>




        </div>
        <div
          class="mx-auto mt-8 grid w-full max-w-4xl grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-5 lg:gap-6"
        >


        </div>
      </main>
    </div>
    <!--
        This is a place for Alpine.js Teleport feature
        @see https://alpinejs.dev/directives/teleport
      -->
    <div id="x-teleport-target"></div>
    
    
    
  </body>
</html>
