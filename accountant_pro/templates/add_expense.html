<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta tags  -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />

    <title>Expense</title>
    <link rel="icon" type="image/png" href="images/favicon.png" />

    <!-- CSS Assets -->
    <link rel="stylesheet" href="../static/css/app.css" />

    <!-- Javascript Assets -->
    <script src="../static/js/app1.js" defer></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <script>
      /**
       * THIS SCRIPT REQUIRED FOR PREVENT FLICKERING IN SOME BROWSERS
       */
      localStorage.getItem("_x_darkMode_on") === "true" &&
        document.documentElement.classList.add("dark");

        function updateRate(select) {
          var rateInput = select.parentElement.nextElementSibling.nextElementSibling.querySelector("input[name='rate']");
          rateInput.value = select.value;
        }

        
    </script>
  </head>

  <body x-data class="is-header-blur" x-bind="$store.global.documentBody">
    <!-- App preloader-->
    <div>
     


          

          </div>
          <h3
            class="mt-3 text-xl font-semibold text-slate-600 dark:text-navy-100"
          >
            Invoice No.1003
          </h3>
          <div class="is-scrollbar-hidden min-w-full overflow-x-auto">

          <div class="col-span-12 sm:col-span-8">
            <div class="card p-4 sm:p-5">
              <p
                class="text-base font-medium text-slate-700 dark:text-navy-100"
              >
          
              </p>
              <form method="post">
                {% csrf_token %}
                <div class="mt-4 space-y-4">
                  <label class="block">
                    <span>Payee</span>
                    <select
                      name="supplier" 
                      class="form-select peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                    >
                      {% for supplier in suppliers %}
                      <option value="{{supplier.id}}">{{supplier.name}}</option>
                      {% endfor %}
                      <!-- Add more options as needed -->
                    </select>
                  </label>
                  <label class="block">
                    <span>Payment Account</span>
                    <select
                      name="payment_account"
                      class="form-select peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                    >
                      <option value="Payment_Account">Payment Account</option>
                      <option value="Other_payment_method">Other Payment Method</option>
                    </select>
                  </label>
               
                  <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                    <label class="block">
                      <span>Payment Date</span>
                      <span class="relative mt-1.5 flex">
                        <input
                          name="payment_date"
                          class="form-input peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                          type="date"
                        />
                        <span
                          class="pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:text-navy-300 dark:peer-focus:text-accent"
                        >
                          <i class="far fa-user text-base"></i>
                        </span>
                      </span>
                    </label>
                    <label class="block">
                      <span>Payment method</span>
                      <span class="relative mt-1.5 flex">
                        <select
                          name="payment_method"
                          class="form-select peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                        >
                          <option value="Cash">Cash</option>
                          <option value="Cheque">Cheque</option>
                          <option value="Credit_Card">Credit Card</option>
                          <option value="Direct_Debit">Direct Debit</option>

                          <!-- Add more options as needed -->
                        </select>
                      </span>
                    </label>
                  </div>
                  <div class="grid grid-cols-1 gap-4 sm:grid-cols-12">
                    <label class="block sm:col-span-8">
                      <span>Tags</span>
                      <div class="relative mt-1.5 flex">
                        <input
                          name="tags"
                          class="form-input peer w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                          placeholder="Start typing to add a tag"
                          type="text"
                        />
                        <span
                          class="pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:text-navy-300 dark:peer-focus:text-accent"
                        >
                          <i class="fa-regular fa-envelope text-base"></i>
                        </span>
                      </div>
                    </label>
                
                        <span
                          class="pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:text-navy-300 dark:peer-focus:text-accent"
                        >
                          <i class="fa-solid fa-map-pin text-base"></i>
                        </span>
                      </div>
                    </label>
                  </div><br><br>
                  <table class="min-w-full">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Category</th>
                            <th>Description</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>
                              <select class="form-select w-full" name="category_name" onchange="updateRate(this)">
                                {% for category in category %}
                                <option value="{{ category.id }}">{{ category.category_name }}</option>
                                {% endfor %}
                              </select>
                            </td>
                            <td><input class="form-input w-full" name="description" type="text" placeholder="Description" /></td>
                            <td><input class="form-input w-full" name="amount" type="number" placeholder="Amount" /></td>

                            

                        </tr>
                    </tbody>
                </table><br><br>
                  <div x-data="{sameBillingAddress:true}">
                    <div
                      class="flex-wrap items-start space-y-2 pt-2 sm:flex sm:space-y-0 sm:space-x-5"
                    ></div>
                    <div style="display: inline-block;">
                      <button type="button" id="addCategoryButton" class="btn h-9 w-32 space-x-2 bg-primary text-white hover:bg-primary-focus focus:bg-primary-focus active-bg-primary-focus/90 dark-bg-accent dark-hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90">
                        Add Line
                      </button>
                      <button type="button" id="deleteCategoryButton" class="btn h-9 w-32 space-x-2 bg-primary text-white hover:bg-primary-focus focus-bg-primary-focus active-bg-primary-focus/90 dark-bg-accent dark-hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90">
                        Delete Lines
                      </button>
                    </div><br>
                    <br><br>
                    <table class="min-w-full" id="item-details">
                      <thead>
                          <tr>
                              <th>#</th>
                              <th>Product/Service</th>
                              <th>Description</th>
                              <th>Qty</th>
                              <th>Rate</th>
                              <th>Amount</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <td>1</td>
                              <td>
                          
                          
                                <select class="form-select w-full" name="product_servicet" onchange="updateRate(this)">
                                  {% for product in items %}
                                  <option>{{ product.product_service }}</option>
                                  {% endfor %}
                                </select>
                              </td>
                              <td><input class="form-input w-full" name="descriptions" type="text" placeholder="Descriptions" /></td>
                              <td><input class="form-input w-full" name="qty" type="number" placeholder="Qty" /></td>
                              <td><input class="form-input w-full" name="rate" type="number" placeholder="Rate" /></td>
                              <td><input class="form-input w-full" name="amounts" type="number" placeholder="amounts" /></td>
                          </tr>
                      </tbody>
                  </table><br><br>
                    
                    <div class="flex-wrap items-start space-y-2 pt-2 sm:flex sm:space-y-0 sm:space-x-5">
                      <button type="button" id="addProductButton" class="btn h-9 w-32 space-x-2 bg-primary text-white hover:bg-primary-focus focus-bg-primary-focus active-bg-primary-focus/90 dark-bg-accent dark-hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90">
                        Add Line
                      </button>
                      <button type="button" id="deleteProductButton" class="btn h-9 w-32 space-x-2 bg-primary text-white hover:bg-primary-focus focus-bg-primary-focus active-bg-primary-focus/90 dark-bg-accent dark-hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90">
                        Delete Lines
                      </button>
                    </div>
                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2" style="text-align: right; margin-top: 50px; margin-left: 900px;">
                      <div class="self-end">
                        <span class="text-sm font-bold" style="display: inline-block;">Subtotal</span>
                        <span class="text-sm font-bold" style="display: inline-block;">Total  </span>
                        <span class="text-sm font-bold" style="display: inline-block;">Balance Due </span>
                      </div>
                    </div>
                    <br>
                      <p><label for="w3review">Memo</label></p>
                      <textarea id="text_on_invoice" name="memo" rows="4" cols="50" placeholder="Enter your message..."></textarea>
                    </br>
                    <div class="file-upload-box">
                      <label for="file_attachment">Attachment:</label>
                      <input type="file" id="file_attachment" name="attachment">
                    </div>

                    <button
                      type="submit" 
                      class="btn h-9 w-full space-x-2 bg-primary text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover-bg-accent-focus dark-focus-bg-accent-focus dark-active-bg-accent/90"
                    >
                      save
                    </button>
                </div>
                
                
                  
              </div>
              </form>
              </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="mx-auto mt-8 grid w-full max-w-4xl grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-5 lg:gap-6"
        >
        </div>
      </main>
    </div>
    <!--
        This is a place for Alpine.js Teleport feature
        @see https://alpinejs.dev/directives/teleport
      -->
    <div id="x-teleport-target"></div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
          const addCategoryButton = document.getElementById("addCategoryButton");
          const deleteCategoryButton = document.getElementById("deleteCategoryButton");
          const categoryTableBody = document.querySelector("table tbody");
  
          addCategoryButton.addEventListener("click", function () {
              const newRow = categoryTableBody.insertRow(categoryTableBody.rows.length);
              const newRowNumber = categoryTableBody.rows.length;
  
              // Create cells for the new row
              const cellNumber = newRow.insertCell(0);
              cellNumber.innerHTML = newRowNumber;
  
              const cellCategory = newRow.insertCell(1);
              cellCategory.innerHTML = '<select class="form-select w-full" name="Category" placeholder="Category"></select>';
  
              const cellDescription = newRow.insertCell(2);
              cellDescription.innerHTML = '<input class="form-input w-full" name="description" type="text" placeholder="Description" />';
  
              const cellAmount = newRow.insertCell(3);
              cellAmount.innerHTML = '<input class="form-input w-full" name="amount" type="number" placeholder="Amount" />';
          });
  
          deleteCategoryButton.addEventListener("click", function () {
              const rowCount = categoryTableBody.rows.length;
              if (rowCount > 2) {
                  categoryTableBody.deleteRow(rowCount - 1);
              }
          });
      });
  
      document.addEventListener("DOMContentLoaded", function () {
          const addProductButton = document.getElementById("addProductButton");
          const deleteProductButton = document.getElementById("deleteProductButton");
          const productTableBody = document.querySelector("#item-details tbody");
  
          addProductButton.addEventListener("click", function () {
              const newRow = productTableBody.insertRow(productTableBody.rows.length);
              const newRowNumber = productTableBody.rows.length;
  
              // Create cells for the new row
              const cellNumber = newRow.insertCell(0);
              cellNumber.innerHTML = newRowNumber;
  
              const cellProductService = newRow.insertCell(1);
              cellProductService.innerHTML = '<input class="form-input w-full" name="product_service" type="text" placeholder="Product/Service" />';
  
              const cellDescription = newRow.insertCell(2);
              cellDescription.innerHTML = '<input class="form-input w-full" name="description" type="text" placeholder="Description" />';
  
              const cellQty = newRow.insertCell(3);
              cellQty.innerHTML = '<input class="form-input w-full" name="qty" type="number" placeholder="Qty" />';
  
              const cellRate = newRow.insertCell(4);
              cellRate.innerHTML = '<input class="form-input w-full" name="rate" type="number" placeholder="Rate" />';
  
              const cellAmount = newRow.insertCell(5);
              cellAmount.innerHTML = '<input class="form-input w-full" name="amount" type="number" placeholder="Amount" />';
          });
  
          deleteProductButton.addEventListener("click", function () {
              const rowCount = productTableBody.rows.length;
              if (rowCount > 2) {
                  productTableBody.deleteRow(rowCount - 1);
              }
          });
      });
  </script>
    
    
    
  </body>
</html>
